<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>ุงูุจุญุซ ุงููุชูุฏู ุนู ุงูููููุจุงุช - Paradox</title>
    <link rel="stylesheet" href="styles.css">
    <script src="js/app.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
<div class="stars" id="stars"></div>

<div class="site">

    <header class="header">
        <div class="brand">
            <div class="logo">๐ช</div>
            <div class="title">ุงูุจุญุซ ุงููุชูุฏู</div>
        </div>

        <nav class="nav">
            <a href="index.html"><i class="fas fa-home"></i> ุงูุฑุฆูุณูุฉ</a>
            <a href="asteroids.html"><i class="fas fa-meteor"></i> ุงูููููุจุงุช</a>
            <a href="search-asteroids.html" class="active"><i class="fas fa-search"></i> ุจุญุซ</a>
            <a href="projects.html"><i class="fas fa-satellite"></i> ุงููุดุงุฑูุน</a>
            <a href="reports.html"><i class="fas fa-file-alt"></i> ุงูุชูุงุฑูุฑ</a>
            <a href="teams.html"><i class="fas fa-users"></i> ูุฑููุง</a>
            <a href="about-us.html"><i class="fas fa-info-circle"></i> ูู ูุญู</a>
            <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> ููุญุฉ ุงูุชุญูู</a>
        </nav>

        <div class="cta">
            <a href="login.html" class="btn ghost"><i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุฏุฎูู</a>
            <a href="join.html" class="btn primary"><i class="fas fa-user-plus"></i> ุงูุถู ูููุฑูู</a>
        </div>
    </header>

    <main>
        <section class="section" style="border-top: none;">
            <h2><i class="fas fa-search"></i> ุงูุจุญุซ ุงููุชูุฏู ุนู ุงูููููุจุงุช</h2>
            <p class="muted">ุงุจุญุซ ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูููููุจุงุช ุจุงุณุชุฎุฏุงู ูุนุงููุฑ ูุชุนุฏุฏุฉ</p>

            <!-- ุดุฑูุท ุงูุจุญุซ ุงูุฑุฆูุณู -->
            <div class="card" style="margin-bottom: 25px;">
                <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
                    <i class="fas fa-search" style="color: var(--accent); font-size: 1.2rem;"></i>
                    <div>
                        <div style="font-weight: 600;">ุจุญุซ ุณุฑูุน</div>
                        <div class="small">ุงุจุญุซ ุจุงูุงุณู ุฃู ุฑูู ุงูุชุนุฑูู (ID)</div>
                    </div>
                </div>
                
                <input 
                    id="searchInput"
                    type="text" 
                    placeholder="ุงูุชุจ ุงุณู ุฃู ID ุงูููููุจ..."
                    style="
                        width:100%;
                        padding:16px;
                        border-radius:12px;
                        margin-bottom:20px;
                        background:rgba(255,255,255,0.05);
                        border:1px solid rgba(255,255,255,0.1);
                        color:white;
                        font-size: 1rem;
                        transition: all 0.3s ease;
                    "
                    oninput="doSearch()"
                    onfocus="this.style.borderColor='var(--accent)'; this.style.boxShadow='0 0 0 3px rgba(110, 231, 243, 0.1)';"
                    onblur="this.style.borderColor='rgba(255,255,255,0.1)'; this.style.boxShadow='none';"
                />

                <!-- ุฒุฑ ุฅุธูุงุฑ ูุฅุฎูุงุก ุงูููุงุชุฑ -->
                <button 
                    class="btn primary" 
                    style="width: 100%; margin-bottom:20px; padding: 14px;" 
                    onclick="toggleFilters()"
                    id="filterToggle"
                >
                    <i class="fas fa-filter"></i> ุงูุจุญุซ ุงููุชูุฏู 
                    <span id="filterIcon">๐ฝ</span>
                </button>

                <!-- ุงูููุงุชุฑ ุงููุชูุฏูุฉ -->
                <div id="advancedFilters" style="
                    display:none;
                    padding:25px;
                    border-radius:15px;
                    background:rgba(255,255,255,0.03);
                    margin-bottom:20px;
                    border: 1px solid rgba(255,255,255,0.05);
                ">
                    <h3 style="margin-top: 0; margin-bottom: 20px;">
                        <i class="fas fa-sliders-h"></i> ููุงุชุฑ ุงูุจุญุซ ุงููุชูุฏูุฉ
                    </h3>

                    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                        <div>
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">
                                <i class="fas fa-exclamation-triangle"></i> ุฏุฑุฌุฉ ุงูุฎุทูุฑุฉ:
                            </label>
                            <select id="hazardFilter" class="filterInput" onchange="doSearch()"
                                style="
                                    width: 100%;
                                    padding: 12px;
                                    border-radius: 10px;
                                    background: rgba(255,255,255,0.05);
                                    border: 1px solid rgba(255,255,255,0.1);
                                    color: white;
                                    font-size: 0.95rem;
                                ">
                                <option value="">ุฌููุน ูุณุชููุงุช ุงูุฎุทูุฑุฉ</option>
                                <option value="ุขูู">ุขูู</option>
                                <option value="ููุฎูุถ">ููุฎูุถ ุงูุฎุทูุฑุฉ</option>
                                <option value="ูุฑุงูุจ">ุชุญุช ุงููุฑุงูุจุฉ</option>
                            </select>
                        </div>

                        <div>
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">
                                <i class="fas fa-tags"></i> ุงูุชุตููู:
                            </label>
                            <select id="classFilter" class="filterInput" onchange="doSearch()"
                                style="
                                    width: 100%;
                                    padding: 12px;
                                    border-radius: 10px;
                                    background: rgba(255,255,255,0.05);
                                    border: 1px solid rgba(255,255,255,0.1);
                                    color: white;
                                    font-size: 0.95rem;
                                ">
                                <option value="">ุฌููุน ุงูุชุตูููุงุช</option>
                                <option value="NEO">ุฃุฌุฑุงู ูุฑูุจุฉ ูู ุงูุฃุฑุถ (NEO)</option>
                                <option value="PHA">ููููุจุงุช ุฎุทุฑุฉ ูุญุชููุฉ (PHA)</option>
                            </select>
                        </div>

                        <div>
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">
                                <i class="fas fa-ruler"></i> ุงููุทุฑ (ูุชุฑ):
                            </label>
                            <select id="diameterFilter" class="filterInput" onchange="doSearch()"
                                style="
                                    width: 100%;
                                    padding: 12px;
                                    border-radius: 10px;
                                    background: rgba(255,255,255,0.05);
                                    border: 1px solid rgba(255,255,255,0.1);
                                    color: white;
                                    font-size: 0.95rem;
                                ">
                                <option value="">ุฌููุน ุงูุฃุญุฌุงู</option>
                                <option value="50">ุฃูุจุฑ ูู 50ู</option>
                                <option value="100">ุฃูุจุฑ ูู 100ู</option>
                                <option value="300">ุฃูุจุฑ ูู 300ู</option>
                                <option value="500">ุฃูุจุฑ ูู 500ู</option>
                                <option value="1000">ุฃูุจุฑ ูู 1000ู</option>
                            </select>
                        </div>

                        <div>
                            <label class="small" style="display: block; margin-bottom: 8px; font-weight: 600;">
                                <i class="fas fa-sort-amount-down"></i> ุงูุชุฑุชูุจ ุญุณุจ:
                            </label>
                            <select id="sortFilter" class="filterInput" onchange="doSearch()"
                                style="
                                    width: 100%;
                                    padding: 12px;
                                    border-radius: 10px;
                                    background: rgba(255,255,255,0.05);
                                    border: 1px solid rgba(255,255,255,0.1);
                                    color: white;
                                    font-size: 0.95rem;
                                ">
                                <option value="name">ุงูุงุณู (ุฃ-ู)</option>
                                <option value="size">ุงูุญุฌู (ูู ุงูุฃูุจุฑ)</option>
                                <option value="distance">ุงููุณุงูุฉ (ูู ุงูุฃูุฑุจ)</option>
                                <option value="hazard">ุงูุฎุทูุฑุฉ (ูู ุงูุฃุนูู)</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-top: 25px; display: flex; gap: 15px;">
                        <button class="btn" onclick="resetFilters()" style="flex: 1;">
                            <i class="fas fa-redo"></i> ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชุฑ
                        </button>
                        <button class="btn primary" onclick="doSearch()" style="flex: 2;">
                            <i class="fas fa-search"></i> ุชุทุจูู ุงูุจุญุซ
                        </button>
                    </div>
                </div>
            </div>

            <!-- ูุชุงุฆุฌ ุงูุจุญุซ -->
            <div class="card" style="background: rgba(255,255,255,0.02);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="margin: 0;">
                        <i class="fas fa-list"></i> ุงููุชุงุฆุฌ
                        <span id="resultsCount" style="color: var(--accent);">0</span>
                    </h3>
                    <div class="small" id="searchSummary">
                        ูุง ุชูุฌุฏ ูุชุงุฆุฌ ููุนุฑุถ
                    </div>
                </div>
                
                <div id="resultsGrid" class="grid"></div>
                
                <div id="noResults" style="text-align: center; padding: 40px 20px; display: none;">
                    <i class="fas fa-search" style="font-size: 3rem; color: var(--muted); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--muted);">ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ</h3>
                    <p class="small" style="max-width: 500px; margin: 10px auto;">
                        ุญุงูู ุชุนุฏูู ูุนุงููุฑ ุงูุจุญุซ ุฃู ุงุณุชุฎุฏุงู ูุตุทูุญุงุช ุจุญุซ ุฃูุณุน
                    </p>
                    <button class="btn" onclick="resetFilters()" style="margin-top: 20px;">
                        <i class="fas fa-redo"></i> ุฅุนุงุฏุฉ ุชุนููู ุงูุจุญุซ
                    </button>
                </div>
            </div>
        </section>

        <!-- ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ -->
        <section class="section">
            <h2><i class="fas fa-chart-bar"></i> ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ</h2>
            <p class="muted">ูุธุฑุฉ ุนุงูุฉ ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูููููุจุงุช</p>
            
            <div class="grid">
                <div class="card">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="
                            width: 50px;
                            height: 50px;
                            border-radius: 12px;
                            background: rgba(110, 231, 243, 0.1);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 1.5rem;
                            color: var(--accent);
                        ">
                            <i class="fas fa-meteor"></i>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 800;">${sampleAsteroids.length}</div>
                            <div class="small">ููููุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="
                            width: 50px;
                            height: 50px;
                            border-radius: 12px;
                            background: rgba(255, 107, 107, 0.1);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 1.5rem;
                            color: var(--accent-3);
                        ">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 800;">${
                                sampleAsteroids.filter(a => a.classification === 'PHA').length
                            }</div>
                            <div class="small">ููููุจ ุฎุทูุฑ ูุญุชูู (PHA)</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="
                            width: 50px;
                            height: 50px;
                            border-radius: 12px;
                            background: rgba(124, 58, 237, 0.1);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 1.5rem;
                            color: var(--accent-2);
                        ">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: 800;">${
                                sampleAsteroids.filter(a => a.hazard === 'ูุฑุงูุจ').length
                            }</div>
                            <div class="small">ููููุจ ุชุญุช ุงููุฑุงูุจุฉ</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div>
            ยฉ <span id="year"></span> ูุฑูู Paradox - ุงูุจุญุซ ุงููุชูุฏู ุนู ุงูููููุจุงุช
            <br>
            <small class="muted">ูุงุนุฏุฉ ุจูุงูุงุช ูุชูุงููุฉ ููููููุจุงุช ูุงูุฃุฌุฑุงู ุงููุฑูุจุฉ ูู ุงูุฃุฑุถ</small>
        </div>
        <div class="links">
            <a href="index.html"><i class="fas fa-home"></i> ุงูุฑุฆูุณูุฉ</a> โข 
            <a href="asteroids.html"><i class="fas fa-meteor"></i> ุฌููุน ุงูููููุจุงุช</a> โข
            <a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> ููุญุฉ ุงูุชุญูู</a>
        </div>
    </footer>

</div>

<script>
// ูุชุญ/ุฅุฎูุงุก ุงูุจุญุซ ุงููุชูุฏู
function toggleFilters(){
    const box = document.getElementById("advancedFilters");
    const icon = document.getElementById("filterIcon");
    const button = document.getElementById("filterToggle");
    
    if(box.style.display === "none" || !box.style.display){
        box.style.display = "block";
        icon.textContent = "๐ผ";
        button.classList.add('secondary');
        button.classList.remove('primary');
    } else {
        box.style.display = "none";
        icon.textContent = "๐ฝ";
        button.classList.add('primary');
        button.classList.remove('secondary');
    }
}

// ุฅุนุงุฏุฉ ุชุนููู ุงูููุงุชุฑ
function resetFilters(){
    document.getElementById("searchInput").value = "";
    document.getElementById("hazardFilter").value = "";
    document.getElementById("classFilter").value = "";
    document.getElementById("diameterFilter").value = "";
    document.getElementById("sortFilter").value = "name";
    doSearch();
}

// ุงูุจุญุซ ุงููุญุณู
function doSearch(){
    const text = document.getElementById("searchInput").value.trim().toLowerCase();
    const hazard = document.getElementById("hazardFilter").value;
    const cls = document.getElementById("classFilter").value;
    const diameter = document.getElementById("diameterFilter").value;
    const sortBy = document.getElementById("sortFilter").value;

    let filtered = sampleAsteroids.filter(a => {
        const matchText =
            a.name.toLowerCase().includes(text) ||
            a.id.toLowerCase().includes(text);

        const matchHazard = hazard === "" || a.hazard === hazard;
        const matchClass = cls === "" || a.classification === cls;

        let matchDiameter = true;
        if (diameter !== "") {
            const d = parseInt(a.diameter);
            if (!isNaN(d)) {
                matchDiameter = d >= parseInt(diameter);
            }
        }

        return matchText && matchHazard && matchClass && matchDiameter;
    });

    // ุงูุชุฑุชูุจ
    if(sortBy === "size"){
        filtered.sort((a, b) => {
            const sizeA = parseInt(a.diameter) || 0;
            const sizeB = parseInt(b.diameter) || 0;
            return sizeB - sizeA;
        });
    } else if(sortBy === "distance"){
        filtered.sort((a, b) => a.distance_km - b.distance_km);
    } else if(sortBy === "hazard"){
        const hazardOrder = { 'ูุฑุงูุจ': 3, 'ููุฎูุถ': 2, 'ุขูู': 1 };
        filtered.sort((a, b) => hazardOrder[b.hazard] - hazardOrder[a.hazard]);
    } else {
        filtered.sort((a, b) => a.name.localeCompare(b.name));
    }

    // ุชุญุฏูุซ ุงูุนุฏุงุฏ
    const countElement = document.getElementById("resultsCount");
    const summaryElement = document.getElementById("searchSummary");
    const noResultsElement = document.getElementById("noResults");
    
    if(countElement) countElement.textContent = filtered.length;
    
    if(summaryElement){
        if(filtered.length === 0){
            summaryElement.textContent = "ูุง ุชูุฌุฏ ูุชุงุฆุฌ ููุนุฑุถ";
        } else if(filtered.length === 1){
            summaryElement.textContent = "ุนุฑุถ ูุชูุฌุฉ ูุงุญุฏุฉ";
        } else {
            summaryElement.textContent = `ุนุฑุถ ${filtered.length} ูุชูุฌุฉ`;
        }
    }

    // ุนุฑุถ ุงููุชุงุฆุฌ
    const grid = document.getElementById("resultsGrid");
    if(grid){
        grid.innerHTML = "";
        
        if(filtered.length === 0){
            noResultsElement.style.display = "block";
        } else {
            noResultsElement.style.display = "none";
            
            filtered.forEach(a => {
                const card = document.createElement("div");
                card.className = "card";
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <div style="font-weight: 800; font-size: 1.2rem;">${a.name}</div>
                            <div class="small" style="margin-top: 5px;">ID: ${a.id}</div>
                        </div>
                        <span class="tag" style="background: ${getHazardColor(a.hazard)}; color: ${
                            a.hazard === 'ุขูู' ? '#4CAF50' : 
                            a.hazard === 'ููุฎูุถ' ? '#FFC107' : '#F44336'
                        }">
                            ${a.hazard}
                        </span>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <div class="kv">
                            <span class="small">ุงููุทุฑ:</span>
                            <span style="font-weight: 600;">${a.diameter}</span>
                        </div>
                        <div class="kv">
                            <span class="small">ุงููุณุงูุฉ:</span>
                            <span style="font-weight: 600;">${a.distance_km.toLocaleString()} ูู</span>
                        </div>
                        <div class="kv">
                            <span class="small">ุงูุชุตููู:</span>
                            <span style="font-weight: 600;">${a.classification}</span>
                        </div>
                        <div class="kv">
                            <span class="small">ุงูุณุฑุนุฉ:</span>
                            <span style="font-weight: 600;">${a.velocity}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <a class="btn" style="flex: 1;" href="asteroid-details.html?id=${a.id}">
                            <i class="fas fa-info-circle"></i> ุงูุชูุงุตูู
                        </a>
                        <button class="btn primary" style="flex: 2;" onclick="trackAsteroid('${a.id}')">
                            <i class="fas fa-satellite"></i> ุจุฏุก ุงูุชุชุจุน
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }
    }
}

// ุชููุฆุฉ ุงูุจุญุซ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
window.addEventListener('DOMContentLoaded', function() {
    doSearch();
    
    // ุฅุถุงูุฉ ุงูุณูุฉ ููููุชุฑ
    const yearElement = document.getElementById('year');
    if(yearElement) yearElement.textContent = new Date().getFullYear();
});
</script>
</body>
</html>